CREATE DATABASE QLBANHANG
CREATE TABLE DANGNHAP
(
	TENDN NVARCHAR(30),
	MK NVARCHAR(30),
)
CREATE TABLE NHANVIEN
(
	MANV CHAR(10) NOT NULL PRIMARY KEY,
	TENNV NVARCHAR(50),
	GIOITINH NVARCHAR(10),
	DIACHI NVARCHAR(50),
	DT NVARCHAR(15),
	NGAYSINH NVARCHAR(15), 
)
CREATE TABLE KHACH
(
	MAKH CHAR(10) NOT NULL PRIMARY KEY,
	TENKH NVARCHAR(30),
	DIACHI NVARCHAR(50),
	DT NVARCHAR(15),
)
CREATE TABLE CHATLIEU
(
	MACHATLIEU CHAR(10) NOT NULL PRIMARY KEY,
	TENCHATLIEU NVARCHAR(30),
)
CREATE TABLE HANG	
(
	MAHANG CHAR(10) NOT NULL PRIMARY KEY,
	TENHANG NVARCHAR(100),
	MACHATLIEU CHAR(10),
	SOLUONG INT,
	DONGIANHAP FLOAT,
	DONGIABAN FLOAT,
	GHICHU NVARCHAR(200),
	CONSTRAINT FK_HANG_CL FOREIGN KEY(MACHATLIEU) REFERENCES CHATLIEU(MACHATLIEU)	
)
CREATE TABLE HDBANHANG
(
	MAHD CHAR(10) NOT NULL PRIMARY KEY,
	MANV CHAR(10),
	NGAYBAN NVARCHAR(15),
	MAKH CHAR(10),
	TONGTIEN FLOAT,
	CONSTRAINT FK_HD_KHACH FOREIGN KEY(MAKH) REFERENCES KHACH(MAKH),
	CONSTRAINT FK_HD_NV FOREIGN KEY(MANV) REFERENCES NHANVIEN(MANV)
)
CREATE TABLE CHITIETHDBANHANG
(
	MAHD CHAR(10) NOT NULL,
	MAHANG CHAR(10) NOT NULL,
	SOLUONG INT,
	DONGIA FLOAT,
	GIAMGIA FLOAT,
	THANHTIEN MONEY,
	CONSTRAINT PK_CTHD PRIMARY KEY(MAHD,MAHANG),
	CONSTRAINT FK_CTHD_HD FOREIGN KEY(MAHD) REFERENCES HDBANHANG(MAHD),
	CONSTRAINT FK_CTHD_HANG FOREIGN KEY(MAHANG) REFERENCES HANG(MAHANG),
)
CREATE TABLE BIENLAI
(
	MAHD CHAR(10) NOT NULL PRIMARY KEY,
	NGAYBAN NVARCHAR(15),
	MANV CHAR(10),
	MAKH CHAR(10),
	MAHANG CHAR(10),
	SOLUONG INT,
	DONGIA FLOAT,
	GIAMGIA FLOAT,
	THANHTIEN MONEY,
	CONSTRAINT FK_BL_NV FOREIGN KEY(MANV) REFERENCES NHANVIEN(MANV),
	CONSTRAINT FK_BL_KHACH FOREIGN KEY(MAKH) REFERENCES KHACH(MAKH),
	CONSTRAINT FK_BL_HANG FOREIGN KEY(MAHANG) REFERENCES HANG(MAHANG),
)

insert into DANGNHAP values(N'hieunghia','123456')

insert into NHANVIEN values('NV01',N'Nguyễn Thanh Minh Sơn','Nam',N'Bình Phước','0931857039','21-10-2001')
insert into NHANVIEN values('NV02',N'Nguyễn Thành Tín','Nam',N'Thái Bình','0123456789','22-10-2001')
insert into NHANVIEN values('NV03',N'Nguyễn Minh Hải','Nam',N'Hà Nội','0123456789','23-10-2001')
insert into NHANVIEN values('NV04',N'Trần Hiếu Nghĩa','Nam',N'HCM','0123456789','24-09-2001')
insert into NHANVIEN values('NV05',N'Nguyễn Thị Huyền',N'Nữ',N'Bình Định','0123456789','25-01-2001')
insert into NHANVIEN values('NV06',N'Thái Kiều Uyên',N'Nữ',N'Hà Nội','0123456789','12-10-2001')
insert into NHANVIEN values('NV07',N'Trần Văn Toàn','Nam',N'Hà Nội','0123456789','13-10-2001')
insert into NHANVIEN values('NV08',N'Nguyễn Thị Bích Phương',N'Nữ',N'HCM','0123456789','14-10-2001')
insert into NHANVIEN values('NV09',N'Trần Văn Hiền','Nam',N'HCM','0123456789','15-10-2001')
insert into NHANVIEN values('NV10',N'Cao Kim Chi',N'Nữ',N'HCM','0123456789','17-10-2001')

insert into KHACH values('KH01',N'Nguyễn Văn A',N'HCM','0987654321')
insert into KHACH values('KH02',N'Nguyễn Văn B',N'HCM','0987634643')
insert into KHACH values('KH03',N'Nguyễn Văn C',N'HCM','0934567543')
insert into KHACH values('KH05',N'Nguyễn Văn D',N'HCM','0988678634')
insert into KHACH values('KH06',N'Nguyễn Văn F',N'HCM','0987235231')
insert into KHACH values('KH07',N'Nguyễn Văn G',N'HCM','0987235231')
insert into KHACH values('KH08',N'Nguyễn Văn H',N'HCM','0982354321')

insert into CHATLIEU values('CL01',N'Sắt')
insert into CHATLIEU values('CL02',N'Nhựa')
insert into CHATLIEU values('CL03',N'Bạc')
insert into CHATLIEU values('CL04',N'Vàng')
insert into CHATLIEU values('CL05',N'Nhựa tốt')
insert into CHATLIEU values('CL06',N'Nhựa hóa học')

insert into HANG values('MH01',N'Máy Lanh DAIKI','CL01',30,1000000,5000000,N'Công suất Làm lạnh 20,500 BTU, thể tích phòng sử dụng 100m3')
insert into HANG values('MH02',N'Máy lạnh LG','CL05',40,1000000,3000000,N'1 chiều – 36.000BTU – 3 pha – gas R410a')
insert into HANG values('MH03',N'Máy Lạnh TOSHIBA','CL05',15,1000000,3500000,N'Công suất: 11.900 BTU/h')
insert into HANG values('MH04',N'Máy Lạnh SHARP','CL06',18,1000000,3500000,N'1 chiều – 42.000 Btu/h (5.5 Hp) – Gas R410a – 3 pha Thiết kế hiện đại')
insert into HANG values('MH05',N'Máy Lạnh PANASONIC','CL02',18,1000000,4000000,N'Công suất: 17.100 BTU/h')
insert into HANG values('MH06',N'Máy Lạnh SONY','CL01',20,1000000,4500000,N'Công suất: 9000 BTU/h')
insert into HANG values('MH07',N'Máy lạnh SONY 2.0 HP','CL03',18,1000000,6000000,N'Công suất: 17900 BTU/h')
insert into HANG values('MH08',N'Máy Lạnh TOSHIBA 1.0 HP','CL02',20,1000000,3500000,N'Công suất: 9000 BTU/h')

insert into HDBANHANG values('HD01','NV01','14-11-2021','KH01',29500000)
insert into HDBANHANG values('HD02','NV02','15-11-2021','KH02',37200000)
insert into HDBANHANG values('HD03','NV03','14-11-2021','KH05',35800000)
insert into HDBANHANG values('HD04','NV01','13-11-2021','KH03',18000000)

insert into CHITIETHDBANHANG values('HD01','MH01',1,29500000,10,29500000*(1-0.1))
insert into CHITIETHDBANHANG values('HD02','MH02',2,37200000,15,2*37200000*(1-0.15))
insert into CHITIETHDBANHANG values('HD03','MH04',1,35800000,5,35800000*(1-0.05))
insert into CHITIETHDBANHANG values('HD04','MH08',1,18000000,3,18000000*(1-0.03))

insert into BIENLAI values('HD01','14-12-2021','NV01','KH01','MH01',1,29500000,10,29500000*(1-0.1))
insert into BIENLAI values('HD02','14-12-2021','NV02','KH02','MH01',2,37200000,15,2*37200000*(1-0.15))
insert into BIENLAI values('HD03','14-12-2021','NV03','KH03','MH01',1,35800000,5,35800000*(1-0.05))
